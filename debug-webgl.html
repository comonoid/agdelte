<!DOCTYPE html>
<html>
<head>
  <title>WebGL Controls Debug</title>
  <style>
    body { font-family: monospace; padding: 20px; background: #222; color: #0f0; }
    #log { background: #000; padding: 10px; margin: 10px 0; max-height: 300px; overflow-y: scroll; }
    canvas { border: 2px solid #0f0; }
  </style>
</head>
<body>
  <h1>WebGL Controls Debug</h1>
  <div id="log"></div>
  <div id="app" data-agdelte="WebGLControlsDemo"></div>

  <script type="module">
    const log = document.getElementById('log');
    const originalLog = console.log;
    console.log = (...args) => {
      originalLog(...args);
      log.innerHTML += args.map(a => typeof a === 'object' ? JSON.stringify(a, null, 2) : String(a)).join(' ') + '<br>';
      log.scrollTop = log.scrollHeight;
    };

    console.log('[1] Loading WebGLControlsDemo module...');
    const module = await import('./_build/jAgda.WebGLControlsDemo.mjs');
    console.log('[2] Module loaded, exports:', Object.keys(module.default).join(', '));

    console.log('[3] Getting app...');
    const app = module.default.app;
    console.log('[4] App type:', typeof app, 'keys:', app ? Object.keys(app).slice(0, 5) : 'none');

    console.log('[5] Loading runtime...');
    const { mountReactive } = await import('./runtime/reactive.js');
    console.log('[6] Runtime loaded, mounting...');

    await mountReactive('WebGLControlsDemo', document.getElementById('app'));
    console.log('[7] App mounted!');
  </script>
</body>
</html>
